

Caffeine Coding Style
=====================


1. Indenting and Formatting
---------------------------
The style in Caffeine is a mixture between ISO C 99 calling conventions,
K&R blocks breakings and KNF -- Kernel Normal Form -- indenting.

* Functions in ISO C 99 (ISO/IEC 9899:1999) calling convention.
* Block must be broken using K&R indenting style.
* The code must be indented with concrete tabs of width 4.
* The fill column must set to the column 78.

Concrete tabs are used to speed up the compile time of caffeine, concrete
tabs means less tokens to parse.


2. Naming Conventions
---------------------
* Lowercase functions.
* Lowercase identifiers.
* Lowercase constants in files and static variables.
* Uppercase enums.
* Uppercase macros.
* Uppercase define constants (in headers).

For core functions, you must use:
	<module_abbreviation>_<function_name>
I.E.:
	cbuf_create

For caffeine functions, you must use:
	<caf>_<module_abbreviation>_<function_name>

For parameters, and local variables, abbreviations are permitted.

For typedefs, you must use:
	<module_abbreviation>_<typedef>_t

For structures, you must use:
	<module_abbreviation>_<structure>_s

For single variables and parameters, hungarian notation -- type prefix
or suffix -- isn't permitted.


3. Emacs Style
--------------

To use emacs during caffeine hacking you must use the next sentence
in your .emacs file:

(c-add-style "caffeine"
         '((c-basic-offset . 4)
           (c-comment-only-line-offset . 0)
           (c-offsets-alist . ((statement-block-intro . +)
                   (knr-argdecl-intro . +)
                   (substatement-open . 0)
                   (label . 0)
                   (statement-cont . +)
                   (inline-open . 0)
                   (inexpr-class . 0)
                   ))))

This will ensure that the code is indented under the caffeine rules.


4. Vim Style
------------

For VIM is needed the cino variable. I'm working on that, but isn't ready
yet.


5. Kate Style
-------------

On Kate you must turn off the mixed indenting style and set the tab key
to insert concrete tabs. As part of KNF indenting style.

